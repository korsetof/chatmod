# Руководство по развертыванию

## Требования
- Node.js 18+ установлен на VPS
- PM2 установлен глобально (`npm install -g pm2`)
- SSH доступ к VPS (188.225.23.151)
- FTP доступ к хостингу (vh450.timeweb.ru)

## Развертывание бэкенда (VPS)

1. Подключитесь к VPS:
```bash
ssh root@188.225.23.151
```

2. Создайте директорию для приложения:
```bash
mkdir -p /var/www/backend
```

3. Загрузите файлы бэкенда:
```bash
# С вашего локального компьютера
scp -r deploy/backend/* root@188.225.23.151:/var/www/backend/
```

4. На VPS установите зависимости и запустите приложение:
```bash
cd /var/www/backend
npm install --production
pm2 start ecosystem.config.js
pm2 save
```

## Развертывание фронтенда (Хостинг)

1. Подключитесь к хостингу через FTP, используя ваши учетные данные для vh450.timeweb.ru

2. Загрузите содержимое папки `deploy/frontend` в директорию public_html

3. Настройте веб-сервер для:
   - Отдачи index.html для всех маршрутов
   - Включения CORS для домена бэкенда
   - Настройки SSL при необходимости

## Переменные окружения

Создайте файл `.env` на VPS в директории `/var/www/backend` со следующими переменными:
```
NODE_ENV=production
PORT=3000
# Добавьте другие необходимые переменные окружения
```

## Мониторинг

Для мониторинга бэкенда:
```bash
pm2 monit
pm2 logs
```

## Устранение неполадок

1. Проверка логов бэкенда:
```bash
pm2 logs backend
```

2. Проверка статуса бэкенда:
```bash
pm2 status
```

3. Перезапуск бэкенда при необходимости:
```bash
pm2 restart backend
```

# Сделать скрипт исполняемым
chmod +x deploy.sh

# Запустить скрипт
./deploy.sh 